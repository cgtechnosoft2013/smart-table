{% extends 'SDLabSmartTableBundle::base.html.twig' %}

{% block body %}

<h2>Basic</h2>
    

<table id="test-table-base"
        class="table table-condensed table-striped table-bordered table-hover"
        data-lang-url="{{ asset('js/data-table-french.lang') }}"
        data-fetch-url="{{ path('table-base-data') }}"
        {#
        data-editable-url="{{ path('plan_training_training_updatefield', {'id': '__training-id__'}) }}"                                    
        data-upload_folder="{{folder}}"
        data-splitprocess_init="{{ path('splitprocess_init', {'alias' : '__alias__', 'folder': '__folder__' }) }}"
        data-splitprocess_init_no_folder="{{ path('splitprocess_init', {'alias' : '__alias__' }) }}"
        data-splitprocess_step="{{ path('splitprocess_step', {'id': '__id__'}) }}"                                    
        data-training_dowload="{{ path('table_download', {'id': '__id__'}) }}"
        data-upload_path="{{ path('plan_training_upload_upload', { 'folder': '__folder__' }) }}"
        data-load_report="{{ path('plan_training_upload_dataLoadReport', {'id': '__id__'}) }}"
        data-add_training="{{ path('add_training') }}"
        data-delete_training_filtered ="{{path('delete_training_filtered')}}"
        data-delete_training_ids="{{path('delete_training_ids')}}"
        #}
>
    <thead>
        <tr class="txt-color-white">
            <th class="bg-color-redLight">ID</th>
            <th class="bg-color-redLight">Column 1</th>
            <th class="bg-color-redLight">Column 2</th>
            <th class="bg-color-redLight">Column 3</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td colspan="5" class="dataTables_empty">Chargement en cours ...</td>
        </tr>
    </tbody>
</table>
        
<script>
    
    var fetchUrl = $('#test-table-base').data('fetch-url');
    var langUrl = $('#test-table-base').data('lang-url');
    
    var $table = $('#test-table-base').dataTable({
        "sServerMethod": "POST",
        "serverSide": true,
        "processing": true,
        "language": { "url": langUrl },
        "dom": '<"top"i>t<"clear"><"col-lg-8 col-lg-offset-4"<"#pagination"p>>',
        "aoColumnDefs": [
            {"aTargets": [0], "data": "id", "sName": "id", "sClass": ""},
            {"aTargets": [1], "data": "colA", "sName": "colA", "sClass": ""},
            {"aTargets": [2], "data": "colB", "sName": "colB", "sClass": ""},
            {"aTargets": [3], "data": "colC", "sName": "colC", "sClass": ""}
        ],
        "ajax": {
            "url": fetchUrl,
            "type": "POST",
            "data": function ( d ) {
                //d.fastSearch = "myValue";
            }
        }
    });
    
    $('#test-table-base').on('preXhr.dt', function(){
        $(this).loadingOverlay('init', {
            loaderType      : 'i',
            loaderClass     : 'fa fa-cog fa-spin fa-3x ajax-overlay-loader'
        });
    });
    
    $('#test-table-base').on('xhr.dt', function(){
        $(this).loadingOverlay('remove');
    } );
    
</script>
        
{% endblock body %}